{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const productList = document.getElementById('productList');\nconst items = document.querySelectorAll('#pagination li');\nconst cart = document.getElementById('cart');\nconst cartList = document.getElementById('cartList');\nconst openCartBtn = document.getElementById('openBtn');\nconst closeCartBtn = document.getElementById('closeBtn');\nconst infoItem = document.getElementById('infoItem');\nconst information = document.getElementById('info');\nconst cartTotalPrice = document.getElementById('totalPrice');\n\n//відкриття та закриття корзини товарів\nopenCartBtn.addEventListener('click', openCartProduct);\ncloseBtn.addEventListener('click', closeCartProduct);\nfunction openCartProduct() {\n  cart.classList.remove('hidden');\n}\n\nfunction closeCartProduct() {\n  cart.classList.add('hidden');\n}\n\n//відкриття та закриття елементу з додатковою інформацією\ninfoItem.addEventListener('click', toggleInfo);\nfunction toggleInfo() {\n  if (information.classList.contains('hidden')) {\n    showInfo();\n  } else {\n    hideInfo();\n  }\n}\n\nfunction showInfo() {\n  information.classList.remove('hidden');\n}\n\nfunction hideInfo() {\n  information.classList.add('hidden');\n}\n\n//пагінація\nlet page = 1;\nlet productsPerPage = 24;\nconst totalNumberOfProducts = 461;\nconst totalPages = Math.ceil(totalNumberOfProducts / productsPerPage);\n\n// for (let item of items) {\n//   item.addEventListener('click', function () {\n//     console.log(this);\n//     this.classList.add('bg-black');\n\n//     let pageNumber = this.innerHTML;\n//     console.log(pageNumber);\n\n//     fetchProducts()\n//       .then(products => {\n//         renderProductsList(products.products);\n//         page = pageNumber;\n\n//         // Replace button text after first request\n//         // if (page > 1) {\n//         //   fetchPostsBtn.textContent = 'Fetch more posts';\n//         // }\n//       })\n//       .catch(error => console.log(error));\n//   });\n// }\n\n// paginatedBtn.addEventListener('click', () => {\n//   // Check the end of the collection to display an alert\n//   if (page > totalPages) {\n//     return toggleAlertPopup();\n//   }\n\n//   fetchProducts()\n//     .then(products => {\n//       renderProductsList(products.products);\n//       page += 1;\n\n//       // Replace button text after first request\n//       if (page > 1) {\n//         fetchPostsBtn.textContent = 'Fetch more posts';\n//       }\n//     })\n//     .catch(error => console.log(error));\n// });\n\nfetchProducts()\n  .then(products => renderProductsList(products.products))\n  .catch(error => console.log(error));\n\nfunction fetchProducts() {\n  const params = new URLSearchParams({\n    limit: productsPerPage,\n    page: page,\n  });\n  return fetch(\n    `https://voodoo-sandbox.myshopify.com/products.json?${params}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\nfetchProducts();\n\n//рендер списку товарів\nfunction renderProductsList(products) {\n  const markup = products\n    .map(({ id, title, images, variants }) => {\n      const cutTitle = title.slice(0, 25);\n      const defaultSrc =\n        'https://cdn.shopify.com/s/files/1/0690/0075/7529/products/AAUvwnj0ICORVuxs41ODOvnhvedArLiSV20df7r8XBjEUQ_s900-c-k-c0x00ffffff-no-rj_d0d589c0-228a-46d7-9f63-8b7aa0416075.jpg?v=1670516962';\n      const imgSrc = images.length != 0 ? images[0].src : defaultSrc;\n      return `\n        <li class=\"relative product\" id=\"${id}\">\n          <img\n            width=\"300px\"\n            height=\"300px\"\n            src=\"${imgSrc}\"\n            alt=\"${cutTitle}\"\n          />\n          <span\n            class=\"absolute p-2 bg-black rounded font-spaceGrotesk font-normal text-lightSand text-xs start-5 top-5\"\n            >USED</span\n          >\n          <div class=\"flex items-center justify-between my-3\">\n            <div class=\"font-spaceGrotesk font-bold text-sm\">\n              <h3>${cutTitle}</h3>\n            <div class=\"flex gap-1\">\n              <p>${variants[0].price}</p>\n                <span>KR</span></div>\n            </div>\n            <div class=\"font-spaceGrotesk text-sm\">\n              <p class=\"font-medium\">Condition</p>\n              <p class=\"font-normal\">Slightly used</p>\n            </div>\n          </div>\n            <button id=\"addCartBtn\"\n              class=\"addCartBtn w-full py-4 bg-black font-spaceGrotesk font-bold text-lightSand rounded\"\n            >\n              ADD TO CART\n            </button>\n        </li>\n      `;\n    })\n    .join('');\n  productList.innerHTML = markup;\n}\n\n//додавання товарів в корзину та видалення товарів з корзини\nconst cartArray = [];\n\nexport const addToCart = () => {\n  productList.addEventListener('click', event => {\n    console.log(event);\n    if (event.target.tagName.toLowerCase() == 'button') {\n      if (cartArray.length < 1) {\n        cartArray.push({\n          id: event.target.parentElement.parentElement.id,\n          title:\n            event.target.parentElement.parentElement.children[2].children[0]\n              .children[0].textContent,\n          amount: 1,\n          price:\n            event.target.parentElement.parentElement.children[2].children[0]\n              .children[1].children[0].textContent,\n        });\n      } else {\n        const existedProduct = cartArray.find(\n          el => el.id === event.target.parentElement.parentElement.id\n        );\n        if (existedProduct) {\n          existedProduct.amount++;\n        } else {\n          cartArray.push({\n            id: event.target.parentElement.parentElement.id,\n            title:\n              event.target.parentElement.parentElement.children[2].children[0]\n                .children[0].textContent,\n            amount: 1,\n            // price: parseFloat(\n            //   event.target.parentElement.parentElement.children[2].children[0]\n            //     .children[1].children[0].textContent\n            // ),\n            price:\n              event.target.parentElement.parentElement.children[2].children[0]\n                .children[1].children[0].textContent,\n          });\n        }\n      }\n      console.log(cartArray);\n      renderCartList(cartArray);\n\n      cartArray.forEach(product => {\n        generateCart(product);\n      });\n\n      //   updateTotal();\n    }\n  });\n};\n\nconst generateCart = product => {\n  const productCartItem = cartList.children[0];\n  if (product.id === productCartItem.id) {\n    console.log('the same id');\n    updateProduct(productCartItem, product);\n  }\n  //   else {\n  //     cartProducts.appendChild(showInCart(product));\n  //   }\n};\n\nexport const updateProduct = (element, product) => {\n  const priceCartProduct = document.getElementById('price');\n  const numberOfProduct = document.getElementById('numberOfProduct');\n\n  console.log(priceCartProduct);\n  console.log(numberOfProduct);\n\n  priceCartProduct.textContent = product.amount * product.price;\n  numberOfProduct.textContent = product.amount;\n};\n\naddToCart();\n\n//рендер списку товарів в коризині\nconst renderCartList = products => {\n  const markup = products\n    .map(({ id, title, imageSrc, price }) => {\n      return `\n          <li class=\"flex justify-between\" id=\"${id}\">\n    <a class=\"flex\">\n      <img\n        width=\"74px\"\n        height=\"74px\"\n        src=\"${imageSrc}\"\n        alt=\"${title}\"\n      />\n      <div\n        class=\"flex flex-col gap-3 font-spaceGrotesk font-bold text-sm text-lightSand\"\n      >\n        <p>${title}</p>\n          <div class=\"flex gap-1\">\n              <p id=\"price\">${price}</p>\n              <span>KR</span>\n          </div>\n\n      <div class=\"flex gap-3\">\n        <button id=\"decreaseBtn\"> - </button>\n        <p id=\"numberOfProduct\"> 1 </p>\n        <button id=\"increaseBtn\"> + </button>\n          </div>\n      </div>\n          </div>\n    </a>\n    <button id=\"removeBtn\" class=\"py-1 bg-lightSand font-spaceGrotesk font-bold text-black rounded\"> Rem\n    </button>\n  </li>\n        `;\n    })\n    .join('');\n  cartList.innerHTML = markup;\n};\n\nfunction removeCartProduct(e) {\n  //   console.log(e.target);\n  //   if (e.target.id === 'removeBtn') {\n  //     const currentLi = e.target.parentElement;\n  //     const currentId = currentLi.id;\n  //     const savedData = JSON.parse(localStorage.getItem('cart')) || [];\n  //     const newSavedData = savedData.filter(item => item.id !== currentId);\n  //     localStorage.setItem('cart', JSON.stringify(newSavedData));\n  //   }\n  //   const numberOfProduct = e.target.parentElement.children[1];\n  //   const currentNumber = +numberOfProduct.innerText;\n  //   let newNumberOfProduct;\n  //   const priseElement =\n  //     e.target.parentElement.parentElement.children[1].children[0];\n  //   const priceOfProduct = +priseElement.innerText;\n  //   let newPriceOfProduct;\n  //   console.log(priceOfProduct);\n  //   if (e.target.id === 'increaseBtn') {\n  //     newNumberOfProduct = currentNumber + 1;\n  //     newPriceOfProduct = priceOfProduct * newNumberOfProduct;\n  //     console.log(newNumberOfProduct);\n  //     console.log(newPriceOfProduct);\n  //   }\n  //   if (e.target.id === 'decreaseBtn') {\n  //     newNumberOfProduct = currentNumber === 1 ? 1 : currentNumber - 1;\n  //   }\n  //   numberOfProduct.textContent = newNumberOfProduct;\n  //   //   priseElement.textContent = newPriceOfProduct;\n}\n\n//збільшення та зменшення кількості товару в корзині\n\n// const decreaseBtn = document.getElementById('decreaseBtn');\n// const increaseBtn = document.getElementById('increaseBtn');\n// const numberOfProduct = document.getElementById('numberOfProduct');\n// const totalPrice = document.getElementById('totalPrice');\n// // console.log(numberOfProduct.innerText);\n// // console.log(totalPrice.innerText);\n\n// increaseBtn.addEventListener('click', function () {\n//   //   numberOfProduct.innerText = (numberOfProduct.innerText | 0) + 1;\n// });\n"],"names":["$b8f9b7833fa37166$var$productList","document","getElementById","$b8f9b7833fa37166$var$cart","querySelectorAll","$b8f9b7833fa37166$var$cartList","$b8f9b7833fa37166$var$openCartBtn","$b8f9b7833fa37166$var$infoItem","$b8f9b7833fa37166$var$information","addEventListener","classList","remove","closeBtn","add","contains","Math","ceil","$b8f9b7833fa37166$var$fetchProducts","params","URLSearchParams","limit","page","fetch","concat","then","response","ok","Error","status","json","products","markup","map","param","id","title","images","variants","cutTitle","slice","defaultSrc","imgSrc","length","src","price","join","innerHTML","$b8f9b7833fa37166$var$renderProductsList","catch","error","console","log","$b8f9b7833fa37166$var$cartArray","$b8f9b7833fa37166$var$generateCart","product","productCartItem","children","$b8f9b7833fa37166$export$8d590d0c8872145e","element","priceCartProduct","numberOfProduct","textContent","amount","event","target","tagName","toLowerCase","push","parentElement","existedProduct","find","el","$b8f9b7833fa37166$var$renderCartList","forEach","imageSrc"],"version":3,"file":"index.16e19316.js.map"}