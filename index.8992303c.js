const t=document.getElementById("productList"),n=document.getElementById("cart"),e=document.getElementById("cartList"),i=document.getElementById("openBtn"),d=document.getElementById("closeBtn"),c=document.getElementById("infoItem"),a=document.getElementById("info");i.addEventListener("click",(function(){n.classList.remove("hidden")})),d.addEventListener("click",(function(){n.classList.add("hidden")})),c.addEventListener("click",(function(){a.classList.contains("hidden")?a.classList.remove("hidden"):a.classList.add("hidden")}));document.querySelectorAll("#pagination li");Math.ceil(461/24);async function o(){const t=new URLSearchParams({limit:24,page:1}),n=await fetch(`https://voodoo-sandbox.myshopify.com/products.json?${t}`);if(!n.ok)throw new Error(n.status);return await n.json()}o().then((n=>function(n){const e=n.map((({id:t,title:n,images:e,variants:i})=>{const d=n.slice(0,25),c="https://cdn.shopify.com/s/files/1/0690/0075/7529/products/AAUvwnj0ICORVuxs41ODOvnhvedArLiSV20df7r8XBjEUQ_s900-c-k-c0x00ffffff-no-rj_d0d589c0-228a-46d7-9f63-8b7aa0416075.jpg?v=1670516962";return`\n        <li class="relative product" id="${t}">\n          <img\n            width="300px"\n            height="300px"\n            src="${0!=e.length?e[0].src:c}"\n            alt="${d}"\n          />\n          <span\n            class="absolute p-2 bg-black rounded font-spaceGrotesk font-normal text-lightSand text-xs start-5 top-5"\n            >USED</span\n          >\n          <div class="flex items-center justify-between my-3">\n            <div class="font-spaceGrotesk font-bold text-sm">\n              <h3>${d}</h3>\n            <div class="flex gap-1">\n              <p>${i[0].price}</p>\n                <span>KR</span></div>\n            </div>\n            <div class="font-spaceGrotesk text-sm">\n              <p class="font-medium">Condition</p>\n              <p class="font-normal">Slightly used</p>\n            </div>\n          </div>\n            <button id="addCartBtn"\n              class="addCartBtn w-full py-4 bg-black font-spaceGrotesk font-bold text-lightSand rounded"\n            >\n              ADD TO CART\n            </button>\n        </li>\n      `})).join("");t.innerHTML=e}(n.products))).catch((t=>console.log(t))),o();const s=[],r=t=>{const n=e.children[0];n.id===t.id&&l(n,t)},l=(t,n)=>{const e=document.getElementById("price"),i=document.getElementById("amountOfProduct");e.textContent=n.amount*n.price,i.textContent=n.amount},m=()=>{const t=document.getElementById("totalPrice"),n=s.reduce(((t,n)=>t+=n.amount*n.price),0);t.innerHTML=n.toFixed(2)+" KR."};t.addEventListener("click",(t=>{if("button"==t.target.tagName.toLowerCase()){if(s.length<1)s.push({id:t.target.parentElement.id,title:t.target.parentElement.children[2].children[0].children[0].textContent,imageSrc:t.target.parentElement.children[0].currentSrc,amount:1,price:t.target.parentElement.children[2].children[0].children[1].children[0].textContent});else{const n=s.find((n=>n.id===t.target.parentElement.id));n?n.amount++:s.push({id:t.target.parentElement.id,title:t.target.parentElement.children[2].children[0].children[0].textContent,imageSrc:t.target.parentElement.children[0].currentSrc,amount:1,price:t.target.parentElement.children[2].children[0].children[1].children[0].textContent})}p(s),s.forEach((t=>{r(t)})),m()}})),n.addEventListener("click",(t=>{if("removeBtn"===t.target.id||"decreaseBtn"===t.target.id||"increaseBtn"===t.target.id){const n=t.target.closest(".cartItem");console.log(n),console.log(n.id);const e=n.id;if(e){const i=s.findIndex((t=>t.id===e));"decreaseBtn"===t.target.id&&(1===s[i].amount?(n.parentElement.removeChild(n),s.splice(i,1)):(s[i].amount--,r(s[i]))),"increaseBtn"===t.target.id&&(s[i].amount++,r(s[i])),"removeBtn"===t.target.id&&(n.parentElement.removeChild(n),s.splice(i,1))}m()}}));const p=t=>{const n=t.map((({id:t,title:n,imageSrc:e,price:i})=>`\n          <li class="cartItem flex justify-between" id="${t}">\n    <a class="flex gap-5">\n      <img\n        width="74px"\n        height="74px"\n        src="${e}"\n        alt="${n}"\n      />\n      <div\n        class="flex flex-col gap-3 font-spaceGrotesk font-bold text-sm text-lightSand"\n      >\n        <p>${n}</p>\n          <div class="flex gap-1">\n              <p id="price">${i}</p>\n              <span>KR</span>\n          </div>\n\n      <div class="flex gap-3">\n        <button id="decreaseBtn"> - </button>\n        <p id="amountOfProduct"> 1 </p>\n        <button id="increaseBtn"> + </button>\n          </div>\n      </div>\n          </div>\n    </a>\n    <button id="removeBtn" class="py-1 bg-lightSand font-spaceGrotesk font-bold text-black rounded"> X\n    </button>\n  </li>\n        `)).join("");e.innerHTML=n};
//# sourceMappingURL=index.8992303c.js.map
